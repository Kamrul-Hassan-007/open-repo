Ensure NetworkManager is installed: Run the following command to check if NetworkManager is installed:
pacman -Qs networkmanager

sudo systemctl enable NetworkManager
sudo systemctl start NetworkManager


Create a configuration file:
Create a file in /etc/NetworkManager/conf.d/ to enable MAC randomization:
sudo mkdir -p /etc/NetworkManager/conf.d
sudo nano /etc/NetworkManager/conf.d/30-mac-randomization.conf

how to turn on random wifi mac address for arch hyprland so i can connect to wifi that i have been blocked




To enable Wi-Fi MAC address randomization on Arch Linux with Hyprland, you can configure NetworkManager to spoof your MAC address, which may help bypass Wi-Fi restrictions on networks that block specific MAC addresses. Below are the steps to set this up, assuming you're using NetworkManager (a common choice for managing network connections in Arch Linux, including with Hyprland).

Why Randomize Your MAC Address?
Randomizing your MAC address can help you connect to networks that block specific MAC addresses by presenting a new, unrecognized address. This is particularly useful for public Wi-Fi networks with time-based restrictions or MAC-based bans. However, be aware that changing your MAC address to bypass restrictions may violate the network's terms of service, so proceed with caution and ensure you have permission to access the network.

Prerequisites
Ensure NetworkManager is installed: Run the following command to check if NetworkManager is installed:

pacman -Qs networkmanager
If not installed, install it:

sudo pacman -S networkmanager
Enable and start the NetworkManager service:

sudo systemctl enable NetworkManager
sudo systemctl start NetworkManager
Ensure your wireless device is recognized: Verify your wireless interface (e.g., wlan0 or wlp2s0) is detected:

Look for an interface name starting with wl (e.g., wlan0). If no wireless interface appears, ensure your wireless drivers and firmware are installed correctly (refer to the ArchWiki for wireless setup:).
Check for rfkill blocks: Ensure your wireless device is not blocked by hardware or software:

rfkill list
If blocked, unblock it:

rfkill unblock all

Hyprland compatibility: Hyprland is a Wayland compositor, and NetworkManager's GUI tools like nm-applet may require additional configuration to work correctly. You can use nmcli (command-line tool) or nmtui (terminal-based UI) for managing connections.
Step-by-Step Guide to Enable MAC Address Randomization
1. Enable MAC Randomization in NetworkManager
NetworkManager supports two types of MAC randomization:

During scanning: Randomizes the MAC address when searching for Wi-Fi networks.
For connections: Uses a random MAC address for each connection or a stable random MAC address tied to a specific network.
To enable randomization, create or edit a configuration file for NetworkManager.

Create a configuration file:
Create a file in /etc/NetworkManager/conf.d/ to enable MAC randomization:

sudo mkdir -p /etc/NetworkManager/conf.d
sudo nano /etc/NetworkManager/conf.d/30-mac-randomization.conf

Add the following configuration:

[device]
wifi.scan-rand-mac-address=yes

[connection]
wifi.cloned-mac-address=random
ethernet.cloned-mac-address=stable
connection.stable-id=${CONNECTION}/${BOOT}

sudo systemctl restart NetworkManager

or


2. Modify Specific Connection Profiles (Optional)
nmcli connection show

Set randomization for a specific connection:
nmcli connection modify "MyWiFi" wifi.cloned-mac-address random

Replace MyWiFi with the actual connection name.

Activate the connection:
nmcli connection up "MyWiFi"

If prompted, enter the Wi-Fi password.

Replace wlan0 with your wireless interface name. The link/ether field shows the current MAC address. Reconnect to the network and check again to confirm the MAC address changes:

nmcli device wifi connect SSID password PASSWORD
ip link show wlan0
